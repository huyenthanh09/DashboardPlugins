import { __generator } from "tslib";
import { select } from "redux-saga/effects";
import { invalidArgumentsProvided } from "../../../events/general";
import { selectLegacyDashboards } from "../../../store/legacyDashboards/legacyDashboardsSelectors";
import { validateKpiDrillTarget } from "./kpiDrillValidationUtils";
export function validateKpiDrill(drill, ctx, cmd) {
    var legacyDashboards, messageDetail;
    return __generator(this, function (_a) {
        switch (_a.label) {
            case 0: return [4 /*yield*/, select(selectLegacyDashboards)];
            case 1:
                legacyDashboards = _a.sent();
                try {
                    validateKpiDrillTarget(drill, legacyDashboards);
                }
                catch (ex) {
                    messageDetail = ex.message;
                    throw invalidArgumentsProvided(ctx, cmd, "Invalid KPI drill target. Error: " + messageDetail);
                }
                return [2 /*return*/];
        }
    });
}
//# sourceMappingURL=kpiDrillValidation.js.map