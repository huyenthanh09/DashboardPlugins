import { __assign } from "tslib";
import flatMap from "lodash/flatMap";
import React from "react";
import { DashboardLayoutGridRow } from "./DashboardLayoutGridRow";
import { DashboardLayoutSectionHeaderRenderer } from "./DashboardLayoutSectionHeaderRenderer";
import { DashboardLayoutSectionRenderer } from "./DashboardLayoutSectionRenderer";
export function DashboardLayoutSection(props) {
    var section = props.section, _a = props.sectionRenderer, sectionRenderer = _a === void 0 ? DashboardLayoutSectionRenderer : _a, _b = props.sectionHeaderRenderer, sectionHeaderRenderer = _b === void 0 ? DashboardLayoutSectionHeaderRenderer : _b, _c = props.itemKeyGetter, itemKeyGetter = _c === void 0 ? function (_a) {
        var item = _a.item;
        return item.index().toString();
    } : _c, gridRowRenderer = props.gridRowRenderer, itemRenderer = props.itemRenderer, widgetRenderer = props.widgetRenderer, getLayoutDimensions = props.getLayoutDimensions, screen = props.screen, renderMode = props.renderMode;
    var renderProps = { section: section, screen: screen, renderMode: renderMode };
    var items = flatMap(section.items().asGridRows(screen), function (itemsInRow) {
        var rowKey = itemsInRow.map(function (item) { return itemKeyGetter({ item: item, screen: screen }); }).join(";");
        return (React.createElement(DashboardLayoutGridRow, { key: rowKey, screen: screen, section: section, items: itemsInRow, gridRowRenderer: gridRowRenderer, itemKeyGetter: itemKeyGetter, itemRenderer: itemRenderer, widgetRenderer: widgetRenderer, renderMode: renderMode, getLayoutDimensions: getLayoutDimensions }));
    });
    return sectionRenderer(__assign(__assign({}, renderProps), { DefaultSectionRenderer: DashboardLayoutSectionRenderer, children: (React.createElement(React.Fragment, null,
            sectionHeaderRenderer({
                section: section,
                screen: screen,
                DefaultSectionHeaderRenderer: DashboardLayoutSectionHeaderRenderer,
            }),
            items)) }));
}
//# sourceMappingURL=DashboardLayoutSection.js.map