// (C) 2007-2022 GoodData Corporation
import React from "react";
import cx from "classnames";
import { DashboardLayoutSectionBorder } from "../../dragAndDrop";
import { selectActiveSectionIndex, selectIsDraggingWidget, useDashboardSelector } from "../../../model";
var isHiddenStyle = { height: 0, width: 0, overflow: "hidden", flex: 0 };
var defaultStyle = {};
function useBorderStatus(sectionIndex) {
    var isDraggingWidget = useDashboardSelector(selectIsDraggingWidget);
    var activeSectionIndex = useDashboardSelector(selectActiveSectionIndex);
    var isActive = activeSectionIndex === sectionIndex;
    return !isDraggingWidget && !isActive ? "invisible" : "muted";
}
export var EditableDashboardLayoutSectionRenderer = function (props) {
    var children = props.children, className = props.className, debug = props.debug, isHidden = props.isHidden, section = props.section;
    var style = isHidden ? isHiddenStyle : defaultStyle;
    var status = useBorderStatus(section.index());
    return (React.createElement("div", { className: cx(["gd-fluidlayout-row", "s-fluid-layout-row", className], {
            "gd-fluidlayout-row-debug": debug,
        }), style: style },
        React.createElement(DashboardLayoutSectionBorder, { status: status }, children)));
};
//# sourceMappingURL=EditableDashboardLayoutSectionRenderer.js.map