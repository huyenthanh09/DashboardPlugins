// (C) 2022 GoodData Corporation
import React, { useCallback } from "react";
import { FormattedMessage } from "react-intl";
import { widgetRef, } from "@gooddata/sdk-model";
import { changeKpiWidgetComparison, useDashboardDispatch } from "../../../../../model";
import { KpiComparisonTypeDropdown } from "./KpiComparisonTypeDropdown";
import { KpiComparisonDirectionDropdown } from "./KpiComparisonDirectionDropdown";
export var KpiComparison = function (props) {
    var widget = props.widget;
    var ref = widgetRef(widget);
    var comparisonDirection = widget.kpi.comparisonDirection;
    var comparisonType = widget.kpi.comparisonType;
    var dispatch = useDashboardDispatch();
    var handleComparisonTypeChanged = useCallback(function (newComparisonType) {
        dispatch(changeKpiWidgetComparison(ref, {
            comparisonDirection: comparisonDirection,
            comparisonType: newComparisonType,
        }));
    }, [dispatch, ref, comparisonDirection]);
    var handleComparisonDirectionChanged = useCallback(function (newComparisonDirection) {
        dispatch(changeKpiWidgetComparison(ref, {
            comparisonType: comparisonType,
            comparisonDirection: newComparisonDirection,
        }));
    }, [dispatch, ref, comparisonType]);
    return (React.createElement("div", null,
        React.createElement(FormattedMessage, { id: "configurationPanel.compareWith", tagName: "label" }),
        React.createElement(KpiComparisonTypeDropdown, { comparisonType: comparisonType, onComparisonTypeChanged: handleComparisonTypeChanged }),
        !!comparisonDirection && (React.createElement(KpiComparisonDirectionDropdown, { comparisonDirection: comparisonDirection, onComparisonDirectionChanged: handleComparisonDirectionChanged }))));
};
//# sourceMappingURL=KpiComparison.js.map