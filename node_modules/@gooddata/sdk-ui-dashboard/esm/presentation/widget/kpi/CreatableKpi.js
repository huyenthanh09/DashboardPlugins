// (C) 2022 GoodData Corporation
import React from "react";
import { Bubble, BubbleHoverTrigger } from "@gooddata/sdk-ui-kit";
import { FormattedMessage } from "react-intl";
import { useDashboardSelector, selectHasCatalogMeasures, selectIsWhiteLabeled } from "../../../model";
import { AddKpiWidgetButton, DraggableKpiCreatePanelItem } from "../../dragAndDrop";
var bubbleAlignPoints = [{ align: "cr cl", offset: { x: -20, y: 0 } }];
/**
 * @internal
 */
export var CreatableKpi = function () {
    var hasMeasures = useDashboardSelector(selectHasCatalogMeasures);
    var isWhiteLabeled = useDashboardSelector(selectIsWhiteLabeled);
    var disabled = !hasMeasures;
    var tooltip = disabled && (React.createElement("div", null,
        React.createElement(FormattedMessage, { id: "addPanel.kpi.tooltip.no_measures" }),
        "\u00A0",
        !isWhiteLabeled && (React.createElement("a", { href: "https://help.gooddata.com/display/doc/Data+Catalog+in+Analytical+Designer#DataCataloginAnalyticalDesigner-AdditemstoDataCatalog", rel: "noopener noreferrer", target: "_blank", className: "s-add-kpi-tooltip-link" },
            React.createElement(FormattedMessage, { id: "addPanel.kpi.tooltip.no_measures.link" })))));
    return (React.createElement(BubbleHoverTrigger, { eventsOnBubble: true, className: "s-add-kpi-bubble-trigger" },
        React.createElement(DraggableKpiCreatePanelItem, { CreatePanelItemComponent: AddKpiWidgetButton, disabled: disabled }),
        tooltip && React.createElement(Bubble, { alignPoints: bubbleAlignPoints }, tooltip)));
};
//# sourceMappingURL=CreatableKpi.js.map