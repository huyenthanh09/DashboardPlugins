// (C) 2007-2022 GoodData Corporation
// import { connect } from "react-redux";
// import { getRecommendedDateDataset } from "@gooddata/sdk-ui-kit";
//
// import DateDataSetFilter, {
//     IDateDataSetFilterDispatchProps,
//     IDateDataSetFilterStateProps,
// } from "../common/DateDataSetFilter";
// import { getSelectedWidgetRef } from "../../modules/Core/services/DashboardService";
// import { autoOpenChanged } from "../../modules/Core/actions/VisualizationActions";
// import { dateDataSetFilterEnabled, dateDataSetSelected } from "../../modules/Core/actions/EditModeActions";
// import {
//     areDateDataSetsLoading,
//     getRelatedDateDataSets,
//     getSelectedDateDataSet,
// } from "../../modules/VisualizationsCache";
// import { AppState } from "../../modules/Core/typings/state";
// import { IProcessedDateDataset } from "../../modules/Core/typings/DateDataSets";
// import {
//     getDateFilterCheckboxDisabled,
//     getWidgetByRef,
//     getWidgetType,
//     getDateFilterEnabled,
//     getDateFilterLoading,
//     getDateFilterAutoOpen,
//     getVisualizationDateDataSet,
// } from "../../modules/Widgets";
import React, { useEffect } from "react";
import { DateDatasetFilter } from "../../common";
import { isInsightWidget, widgetRef } from "@gooddata/sdk-model";
import { queryDateDatasetsForInsight, selectIsWidgetLoadingAdditionalDataByWidgetRef, useDashboardQueryProcessing, useDashboardSelector, } from "../../../../model";
export default function InsightDateDataSetFilter(_a) {
    var widget = _a.widget;
    var _b = useDashboardQueryProcessing({
        queryCreator: queryDateDatasetsForInsight,
    }), status = _b.status, queryDateDatasets = _b.run, result = _b.result;
    var isLoadingAdditionalData = useDashboardSelector(selectIsWidgetLoadingAdditionalDataByWidgetRef(widgetRef(widget)));
    useEffect(function () {
        queryDateDatasets(widget.insight);
    }, [queryDateDatasets, widget.insight]);
    if (isInsightWidget(widget)) {
        return (React.createElement(DateDatasetFilter, { widget: widget, dateFilterCheckboxDisabled: false, isDatasetsLoading: status === "running" || status === "pending" || isLoadingAdditionalData, relatedDateDatasets: result === null || result === void 0 ? void 0 : result.dateDatasetsOrdered, isLoadingAdditionalData: isLoadingAdditionalData }));
    }
    return null;
}
//# sourceMappingURL=InsightDateDataSetFilter.js.map