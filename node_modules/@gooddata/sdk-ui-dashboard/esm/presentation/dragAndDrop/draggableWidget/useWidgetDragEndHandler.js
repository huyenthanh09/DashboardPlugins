// (C) 2022 GoodData Corporation
import { useCallback } from "react";
import { useDashboardDispatch, uiActions, eagerRemoveSectionItem, useDashboardSelector, selectWidgetPlaceholderCoordinates, } from "../../../model";
/**
 * @internal
 */
export function useWidgetDragEndHandler() {
    var dispatch = useDashboardDispatch();
    var widgetPlaceholderCoords = useDashboardSelector(selectWidgetPlaceholderCoordinates);
    return useCallback(function (didDrop) {
        if (!didDrop && widgetPlaceholderCoords) {
            dispatch(eagerRemoveSectionItem(widgetPlaceholderCoords.sectionIndex, widgetPlaceholderCoords.itemIndex));
        }
        dispatch(uiActions.setIsDraggingWidget(false));
    }, [dispatch, widgetPlaceholderCoords]);
}
//# sourceMappingURL=useWidgetDragEndHandler.js.map