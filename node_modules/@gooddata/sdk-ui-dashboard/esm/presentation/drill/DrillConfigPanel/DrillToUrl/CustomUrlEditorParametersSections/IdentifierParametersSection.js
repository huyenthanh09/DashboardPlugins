// (C) 2020-2022 GoodData Corporation
import React from "react";
import { FormattedMessage } from "react-intl";
import { DropdownSectionHeader } from "../DropdownSectionHeader";
import { ProjectIdParameterDetail } from "../ParameterDetails/ProjectIdParameterDetail";
import { DashboardIdParameterDetail } from "../ParameterDetails/DashboardIdParameterDetail";
import { WidgetIdParameterDetail } from "../ParameterDetails/WidgetIdParameterDetail";
import { InsightIdParameterDetail } from "../ParameterDetails/InsightIdParameterDetail";
import { ClientIdParameterDetail } from "../ParameterDetails/ClientIdParameterDetail";
import { DataProductIdParameterDetail } from "../ParameterDetails/DataProductIdParameterDetail";
import { Parameter } from "./Parameter";
import { DRILL_TO_URL_PLACEHOLDER, selectEnableRenamingProjectToWorkspace, useDashboardSelector, } from "../../../../../model";
var identifierParametersSection = [
    {
        titleIntlKey: "configurationPanel.drillIntoUrl.editor.insightIdParameterLabel",
        placeholder: DRILL_TO_URL_PLACEHOLDER.INSIGHT_ID,
    },
    {
        titleIntlKey: "configurationPanel.drillIntoUrl.editor.widgetIdParameterLabel",
        placeholder: DRILL_TO_URL_PLACEHOLDER.WIDGET_ID,
    },
    {
        titleIntlKey: "configurationPanel.drillIntoUrl.editor.dashboardIdParameterLabel",
        placeholder: DRILL_TO_URL_PLACEHOLDER.DASHBOARD_ID,
    },
    {
        titleIntlKey: "configurationPanel.drillIntoUrl.editor.projectIdParameterLabel",
        placeholder: DRILL_TO_URL_PLACEHOLDER.PROJECT_ID,
    },
    {
        titleIntlKey: "configurationPanel.drillIntoUrl.editor.workspaceIdParameterLabel",
        placeholder: DRILL_TO_URL_PLACEHOLDER.WORKSPACE_ID,
    },
    {
        titleIntlKey: "configurationPanel.drillIntoUrl.editor.clientIdParameterLabel",
        placeholder: DRILL_TO_URL_PLACEHOLDER.CLIENT_ID,
    },
    {
        titleIntlKey: "configurationPanel.drillIntoUrl.editor.dataProductIdParameterLabel",
        placeholder: DRILL_TO_URL_PLACEHOLDER.DATA_PRODUCT_ID,
    },
];
var getDetailContent = function (type, title) {
    switch (type) {
        case DRILL_TO_URL_PLACEHOLDER.PROJECT_ID:
        case DRILL_TO_URL_PLACEHOLDER.WORKSPACE_ID:
            return React.createElement(ProjectIdParameterDetail, { title: title });
        case DRILL_TO_URL_PLACEHOLDER.DASHBOARD_ID:
            return React.createElement(DashboardIdParameterDetail, { title: title });
        case DRILL_TO_URL_PLACEHOLDER.WIDGET_ID:
            return React.createElement(WidgetIdParameterDetail, { title: title });
        case DRILL_TO_URL_PLACEHOLDER.INSIGHT_ID:
            return React.createElement(InsightIdParameterDetail, { title: title });
        case DRILL_TO_URL_PLACEHOLDER.CLIENT_ID:
            return React.createElement(ClientIdParameterDetail, { title: title });
        case DRILL_TO_URL_PLACEHOLDER.DATA_PRODUCT_ID:
            return React.createElement(DataProductIdParameterDetail, { title: title });
        default:
            return React.createElement(React.Fragment, null);
    }
};
export var IdentifierParametersSection = function (_a) {
    var enableClientIdParameter = _a.enableClientIdParameter, enableDataProductIdParameter = _a.enableDataProductIdParameter, enableWidgetIdParameter = _a.enableWidgetIdParameter, onAdd = _a.onAdd, intl = _a.intl;
    var enableRenamingProjectToWorkspace = useDashboardSelector(selectEnableRenamingProjectToWorkspace);
    return (React.createElement(React.Fragment, null,
        React.createElement(DropdownSectionHeader, null,
            React.createElement(FormattedMessage, { id: "configurationPanel.drillIntoUrl.editor.identifierParametersSectionLabel" })),
        identifierParametersSection
            .filter(function (_a) {
            var placeholder = _a.placeholder;
            return placeholder !== DRILL_TO_URL_PLACEHOLDER.CLIENT_ID || enableClientIdParameter;
        })
            .filter(function (_a) {
            var placeholder = _a.placeholder;
            return placeholder !== DRILL_TO_URL_PLACEHOLDER.WIDGET_ID || enableWidgetIdParameter;
        })
            .filter(function (_a) {
            var placeholder = _a.placeholder;
            return placeholder !== DRILL_TO_URL_PLACEHOLDER.DATA_PRODUCT_ID ||
                enableDataProductIdParameter;
        })
            .filter(function (_a) {
            var placeholder = _a.placeholder;
            return placeholder !==
                (enableRenamingProjectToWorkspace
                    ? DRILL_TO_URL_PLACEHOLDER.PROJECT_ID
                    : DRILL_TO_URL_PLACEHOLDER.WORKSPACE_ID);
        })
            .map(function (_a) {
            var placeholder = _a.placeholder, titleIntlKey = _a.titleIntlKey;
            var title = intl.formatMessage({ id: titleIntlKey });
            return (React.createElement(Parameter, { key: placeholder, name: title, detailContent: getDetailContent(placeholder, title), iconClassName: "gd-icon-sharp", onAdd: function () { return onAdd(placeholder); }, intl: intl }));
        })));
};
//# sourceMappingURL=IdentifierParametersSection.js.map